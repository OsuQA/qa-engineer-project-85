---
- summary: |
    Регистрация нового пользователя
  requirement: |
    Страница регистрации доступна для незарегистрированных пользователей
  prerequisites: |
    Пользователь ранее не создавал аккаунт в системе
  test-data: |
    no-data
  steps:
    - Нажать "Sign up"
    - Заполнить "Nickname"
    - Заполнить "Email"
    - Заполнить "Password"
    - Заполнить "Password Confirmation"
    - Нажать кнопку "Submit"
  expected-result: |
    Пользователь успешно зарегистрирован и перенаправлен на главную страницу сайта

- summary: |
    Проверка создания игры с ИИ-соперником
  requirement: |
    Пользователь должен иметь возможность создать новую игру с выбором параметров
  prerequisites: |
    Пользователь авторизован в системе
  test-data: |
    Level: medium
    Game Type: with a bot
    Time control: 3 min
    Choose task by name or tags: random task
    Tags: rest
  steps:
    - Нажать кнопку "Create battle"
  expected-result: |
    Игра с ИИ-соперником успешно создана

- summary: |
    Проверка отображения списка турниров
  requirement: |
    Пользователю должен быть доступен подробный список турниров, рейтингов игроков и истории игр
  prerequisites: |
    Открыта страница сайта https://codebattle.hexlet.io/
    Пользователь авторизован в системе
  test-data: |
    no data
  steps:
    - Перейти во вкладку "Tournaments"
    - Нажать на "Tournaments Info"
  expected-result: |
    Отображается подробный список турниров и информация по каждому турниру

- summary: |
    Проверка возможности создания игры без авторизации
  requirement: |
    Неавторизованный пользователь должен иметь возможность начать игру
  prerequisites: |
    Пользователь не вошел в систему
    Открыта главная страница https://codebattle.hexlet.io/
  test-data: |
    no data
  steps:
    - Нажать кнопку "TRY SIMPLE BATTLE"
  expected-result: |
    Игра успешно создана и запускается без необходимости авторизации

- summary: |
    Проверка подключения к активному баттлу
  requirement: |
    Пользователь должен иметь возможность присоединиться к уже созданному баттлу
  prerequisites: |
    Пользователь авторизован в системе
    Открыта главная страница со списком доступных баттлов
  test-data: |
    no data
  steps:
    - В списке активных баттлов нажать кнопку "Show" напротив одного из них
  expected-result: |
    Пользователь успешно подключается к выбранной активной игре

- summary: |
    Проверка входа с несуществующими учетными данными
  requirement: |
    При вводе неверного логина или пароля система должна отображать соответствующее сообщение об ошибке
  prerequisites: |
    Открыта страница входа в систему
  test-data: |
    Email: javatmn72@student.ru
    Password: qwerty2025
  steps:
    - Заполнить "Email"
    - Заполнить "Password"
    - Нажать "Submit"
  expected-result: |
    Отображается сообщение об ошибке: "EMAIL_NOT_FOUND"

- summary: |
    Аутентификация пользователя через GitHub
  requirement: |
    При нажатии кнопки "Sign in with Github" пользователь должен быть успешно аутентифицирован через свой GitHub-аккаунт
  prerequisites: |
    Пользователь не авторизован
    Пользователь ранее выполнил вход в свой аккаунт GitHub в этом браузере
  test-data: |
    no data
  steps:
    - На главной странице нажать "Sign in"
    - Выбрать опцию "Sign in with Github"
  expected-result: |
    Пользователь успешно проходит авторизацию и перенаправляется на главную страницу сайта

- summary: |
    Проверка изменения имени пользователя в профиле
  requirement: |
    После нажатия кнопки "Save" новое имя должно быть сохранено и отображаться в профиле
  prerequisites: |
    Пользователь авторизован в системе
  test-data: |
    no data
  steps:
    - Нажать на лого своего профиля
    - Перейти в раздел "Settings"
    - В поле "Your name" ввести значение "Osu"
    - Нажать кнопку "Save"
  expected-result: |
    Имя пользователя успешно обновляется и отображается как "Osu" в профиле

- summary: |
    Успешное отключение звука в игре через настройки
  requirement: |
    После изменения уровня курсора на левую сторону звук должен быть отключен
  prerequisites: |
    Пользователь авторизован в системе
  test-data: |
    no data
  steps:
    - Нажать на лого своего профиля
    - Перейти в раздел "Settings"
    - В разделе Select sound level сдвинуть курсор налево до предела
    - Нажать кнопку "Save"
  expected-result: |
    Звук игры успешно отключен и больше не будет воспроизводиться

- summary: |
    Проверка отображения ошибки при выполнении неправильного кода
  requirement: |
    При вводе неправильного решения система должна отобразить статус "failed" в результатах тестов
  prerequisites: |
    Игра запущена и активна
    В редакторе введен неправильный код
  test-data: |
    no data
  steps:
    - Нажать кнопку "Run" для запуска кода
  expected-result: |
    В окне Output отображается сообщение об ошибке со статусом "Tests failed"

- summary: |
    Успешная авторизация через Discord
  requirement: |
    Пользователь может авторизоваться на сайте с помощью учетной записи Discord
  prerequisites: |
    Открыта страница https://codebattle.hexlet.io/
    У пользователя есть активный аккаунт Discord
  test-data: |
    no data
  steps:
    - Нажать кнопку "Sign in"
    - Выбрать опцию "Sign in with Discord"
    - Дождаться перенаправления на страницу авторизации Discord
    - Ввести учетные данные Discord
    - Нажать кнопку "Вход"
  expected-result: |
    Пользователь успешно авторизован на сайте через Discord и попадает в личный кабинет

- summary: |
    Проверка адаптивности редактора кода на мобильных устройствах
  requirement: |
    Интерфейс активной игры должен корректно отображаться и оставаться функциональным на мобильных устройствах
  prerequisites: |
    Пользователь авторизован на сайте https://codebattle.hexlet.io/
    Включен режим эмуляции мобильного устройства в DevTools
    Создана активная игра
  test-data: |
    no data
  steps:
    - Войти на сайт в режиме эмуляции
    - Присоединиться к существующей игре или создать новую
    - Проверить отображение редактора кода, панели игроков, чата и таймера
    - Проверить возможность писать код в редакторе
    - Прокрутить экран вниз и вбок, убедиться в отсутствии лишней прокрутки
    - Перевернуть экран устройства (горизонтальная ориентация) и повторно проверить интерфейс
  expected-result: |
    Редактор кода в активной игре полностью адаптирован под мобильный экран

- summary: |
    Проверка возможности отправки сообщений в чат во время активной игры
  requirement: |
    Пользователь должен иметь возможность писать и отправлять сообщения в чат во время активной игры
  prerequisites: |
    Игра должна находиться в активном состоянии
  test-data: |
    no data
  steps:
    - Ввести произвольный текст в поле чата
    - Нажать кнопку "Send" для отправки сообщения
  expected-result: |
    Сообщение успешно отображается в чате и видно сопернику

- summary: |
    Проверка отображения страницы кланов
  requirement: |
    Страница с кланами должна корректно отображаться и содержать актуальную информацию
  prerequisites: |
    Открыта страница "Clans"
  test-data: |
    no data
  steps:
    - Нажать на лого своего профиля
    - Перейти в раздел "Clans"
    - Просмотреть список доступных кланов
  expected-result: |
    Кланы отображаются правильно, видны названия и никнеймы создателей кланов

- summary: |
    Проверка отображения таблицы рейтинга
  requirement: |
    Таблица с рейтингом должна корректно отображаться и содержать достоверные данные
  prerequisites: |
    Открыта страница "Users rating"
  test-data: |
    no data
  steps:
    - Нажать на лого кубка и рейтинга
    - Перейти в раздел "Users rating"
    - Проверить отображение колонок: №, User, Rank, Rating, Games played, Joined
  expected-result: |
    Все строки и колонки таблицы отображаются корректно, информация читаема
